(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[11],{139:function(e,t,r){"use strict";r.r(t);t.default=function(e,t){}},511:function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},516:function(e,t){},530:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(44),s=n(r(0)),c=r(163);r(10),r(139);var o=n(r(53));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function u(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}var d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=c.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return s.createElement(a.Router,{history:this.history,children:this.props.children})},t}(s.Component),b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=c.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return s.createElement(a.Router,{history:this.history,children:this.props.children})},t}(s.Component),f=function(e,t){return"function"==typeof e?e(t):e},h=function(e,t){return"string"==typeof e?c.createLocation(e,null,null,t):e},j=function(e){return e},m=s.forwardRef;void 0===m&&(m=j);var p=m((function(e,t){var r=e.innerRef,n=e.navigate,a=e.onClick,c=u(e,["innerRef","navigate","onClick"]),o=c.target,l=i({},c,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),n())}});return l.ref=j!==m&&t||r,s.createElement("a",l)})),O=m((function(e,t){var r=e.component,n=void 0===r?p:r,c=e.replace,l=e.to,d=e.innerRef,b=u(e,["component","replace","to","innerRef"]);return s.createElement(a.__RouterContext.Consumer,null,(function(e){e||o(!1);var r=e.history,a=h(f(l,e.location),e.location),u=a?r.createHref(a):"",p=i({},b,{href:u,navigate:function(){var t=f(l,e.location);(c?r.replace:r.push)(t)}});return j!==m?p.ref=t||d:p.innerRef=d,s.createElement(n,p)}))})),v=function(e){return e},x=s.forwardRef;void 0===x&&(x=v);var g=x((function(e,t){var r=e["aria-current"],n=void 0===r?"page":r,c=e.activeClassName,l=void 0===c?"active":c,d=e.activeStyle,b=e.className,j=e.exact,m=e.isActive,p=e.location,g=e.sensitive,y=e.strict,w=e.style,P=e.to,N=e.innerRef,R=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.createElement(a.__RouterContext.Consumer,null,(function(e){e||o(!1);var r=p||e.location,c=h(f(P,r),r),u=c.pathname,C=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=C?a.matchPath(r.pathname,{path:C,exact:j,sensitive:g,strict:y}):null,_=!!(m?m(k,r):k),S=_?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(b,l):b,I=_?i({},w,{},d):w,E=i({"aria-current":_&&n||null,className:S,style:I,to:c},R);return v!==x?E.ref=t||N:E.innerRef=N,s.createElement(O,E)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return a.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return a.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return a.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return a.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return a.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return a.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return a.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return a.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return a.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return a.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return a.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return a.withRouter}}),t.BrowserRouter=d,t.HashRouter=b,t.Link=O,t.NavLink=g},694:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r(24),a=r.n(n),s=r(76),c=r(63),o=r(195),i=r(301),l=r(148),u=r(68),d=r(302),b=r(705),f=r(138),h=r.n(f),j=r(0),m=r(44),p=r(303),O=r(517),v=r(530),x=r(1);function g(){var e=Object(m.useLocation)(),t=Object(v.useHistory)(),r=new URLSearchParams(e.search).get("id"),n=Object(j.useState)(!1),f=Object(c.a)(n,2),g=f[0],y=f[1],w=Object(j.useState)(!1),P=Object(c.a)(w,2),N=P[0],R=P[1],C=Object(j.useState)(""),k=Object(c.a)(C,2),_=k[0],S=k[1],I=Object(j.useState)(""),E=Object(c.a)(I,2),L=E[0],F=E[1],T=Object(j.useState)("+65"),q=Object(c.a)(T,2),H=q[0],M=q[1],A=Object(j.useState)(""),J=Object(c.a)(A,2),B=J[0],D=J[1],K=Object(j.useState)(""),z=Object(c.a)(K,2),U=z[0],$=z[1],G=Object(j.useState)(""),V=Object(c.a)(G,2),Q=V[0],W=V[1],X=Object(j.useState)(""),Y=Object(c.a)(X,2),Z=Y[0],ee=Y[1],te=Object(j.useState)(""),re=Object(c.a)(te,2),ne=re[0],ae=re[1],se=Object(j.useState)([]),ce=Object(c.a)(se,2),oe=(ce[0],ce[1],Object(j.useState)("")),ie=Object(c.a)(oe,2),le=ie[0],ue=ie[1],de=Object(j.useState)(""),be=Object(c.a)(de,2),fe=be[0],he=be[1];var je=o.a.useForm(),me=Object(c.a)(je,1)[0],pe=function(){var e=Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe&&le){e.next=3;break}return i.b.error("Please Enter Password and Confirm Password !"),e.abrupt("return");case 3:if(!(fe.length<5||le.length<5)){e.next=6;break}return i.b.error("Password Length Should Equal or Greater Then 6 Digits !"),e.abrupt("return");case 6:if(fe!==le){e.next=14;break}return t={confirmPassword:le,password:fe,userId:r},e.next=10,h.a.post("https://api.stntinternational.com/api/users/password-reset",t,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 10:n=e.sent,console.log(n),e.next=15;break;case 14:return e.abrupt("return");case 15:y(!1),R(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={firstName:_,lastName:L,phone:B,email:U,jobTitle:Q,jobRole:ne},e.next=3,h.a.put("https://api.stntinternational.com/api/users/".concat(r),n,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:e.sent.data.status&&t.push("/app/user_management");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(s.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={firstName:_,lastName:L,phone:B,email:U,jobTitle:Q,password:Z,jobRole:ne,phoneCode:H},e.next=3,Object(O.k)(r);case 3:e.sent.data.status&&t.push("/app/user_management");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(s.a)(a.a.mark((function e(t){var r,n,s,c,o,i,l,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.stntinternational.com/api/users/".concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:r=e.sent,n=r.data.data,s=n.firstName,c=n.lastName,o=n.phoneCode,i=n.phone,l=n.email,u=n.jobTitle,d=n.jobRole,S(s),F(c),$(l),D(i),M(o),ae(d),W(u),me.setFieldsValue({first_name:s,phone_code:o,mobile_number:i,last_name:c,email_id:l,job_title:u,job_role:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){console.log("id",r),r&&xe(r)}),[]),Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)(o.a,{layout:"vertical",form:me,name:"control-hooks",onFinish:ve,children:[Object(x.jsxs)("div",{className:"border rounded p-3 bg-white",children:[" ",Object(x.jsxs)("div",{style:{gap:"60px"},className:"d-flex ",children:[Object(x.jsxs)("div",{style:{width:"45%"},children:[Object(x.jsx)(o.a.Item,{name:"first_name",label:"First Name",value:_,onChange:function(e){return S(e.target.value)},rules:[{required:!0,message:"Please enter First Name"}],children:Object(x.jsx)(l.a,{placeholder:"First Name"})}),Object(x.jsx)(o.a.Item,{name:"phone_code",label:"Phone code",value:H,onChange:function(e){return M(e.target.value)},rules:[{required:!0,message:"Please enter First Name"}],children:Object(x.jsx)(l.a,{placeholder:"First Name"})}),Object(x.jsx)(o.a.Item,{name:"mobile_number",label:"Mobile Number",value:B,onChange:function(e){return D(e.target.value)},rules:[{required:!0,message:"Mobile Number"}],children:Object(x.jsx)(l.a,{placeholder:"Mobile number"})})]}),Object(x.jsxs)("div",{style:{width:"45%"},children:[Object(x.jsx)(o.a.Item,{value:L,onChange:function(e){return F(e.target.value)},name:"last_name",label:"Last Name",rules:[{required:!0,message:"Please input Last Name!"}],children:Object(x.jsx)(l.a,{placeholder:"Last Name"})}),Object(x.jsx)(o.a.Item,{value:U,onChange:function(e){return $(e.target.value)},name:"email_id",label:"Email Id",rules:[{required:!0,message:"Please enter email Id"}],children:Object(x.jsx)(l.a,{placeholder:"Email Id"})})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{style:{gap:"60px"},className:"d-flex ",children:[Object(x.jsx)("div",{style:{width:"45%"},children:Object(x.jsx)(o.a.Item,{value:Q,onChange:function(e){return W(e.target.value)},name:"job_title",label:"Job Title",rules:[{required:!0,message:"Please input Job Title!"}],children:Object(x.jsx)(l.a,{placeholder:"Job Title"})})}),Object(x.jsx)("div",{style:{width:"45%"},children:Object(x.jsx)(o.a.Item,{value:ne,onChange:function(e){return ae(e.target.value)},name:"job_role",label:"Job Role",rules:[{required:!0,message:"Please input Job Role!"}],children:Object(x.jsx)(l.a,{placeholder:"Job Role"})})})]}),!r&&Object(x.jsx)("div",{style:{gap:"60px"},className:"d-flex ",children:Object(x.jsx)("div",{style:{width:"45%"},children:Object(x.jsx)(o.a.Item,{name:"password",label:"Password",value:Z,onChange:function(e){return ee(e.target.value)},rules:[{required:!r,message:"Please input Password!"}],children:Object(x.jsx)(l.a,{placeholder:"Password"})})})})]})]}),Object(x.jsx)(o.a.Item,{children:Object(x.jsxs)("div",{style:{gap:"10px"},className:"mt-5 d-flex justify-content-end",children:[Object(x.jsx)(u.a,{className:"px-4 font-weight-semibold",htmlType:"button",onClick:function(){console.log("test"),t.goBack()},children:"Back"}),r&&Object(x.jsx)(u.a,{className:"px-4 font-weight-semibold",onClick:function(){return y(!0)},children:"Reset Password"}),r&&Object(x.jsx)(u.a,{className:"px-4 font-weight-semibold text-white bg-info",onClick:Oe,children:"Update"}),!r&&Object(x.jsx)(u.a,{className:"px-4 font-weight-semibold text-white bg-info",htmlType:"submit",children:"Save"})]})})]}),Object(x.jsxs)(d.a,{width:600,footer:null,visible:g,onOk:function(){y(!1)},onCancel:function(){return y(!1)},children:[Object(x.jsxs)("div",{className:"d-flex my-3 flex-column w-75",children:[Object(x.jsxs)("h4",{className:"mb-4 d-flex align-items-center",children:[Object(x.jsx)("div",{dangerouslySetInnerHTML:{__html:p.x}}),Object(x.jsx)("span",{className:"ml-2",children:" Reset Password"})]}),Object(x.jsxs)("div",{className:"w-75 m-auto",children:[Object(x.jsxs)("div",{className:"mt-3",children:[Object(x.jsx)("h5",{children:"Password"}),Object(x.jsx)(l.a.Password,{value:fe,onChange:function(e){return he(e.target.value)},placeholder:"Enter password"})]}),Object(x.jsxs)("div",{className:"mt-3",children:[Object(x.jsx)("h5",{children:"Confirm Password"}),Object(x.jsx)(l.a.Password,{value:le,onChange:function(e){return ue(e.target.value)},placeholder:"Enter Confirm password"})]})]})]}),Object(x.jsxs)("div",{style:{gap:"10px"},className:"mt-5 d-flex justify-content-end",children:[Object(x.jsx)(u.a,{className:"px-4 font-weight-semibold",onClick:function(){return y(!1)},children:"Cancel"}),Object(x.jsx)(u.a,{className:"px-4 font-weight-semibold text-white bg-info",onClick:function(){pe()},children:"Save"})]})]}),Object(x.jsx)(d.a,{width:600,footer:null,visible:N,onCancel:function(){return R(!1)},children:Object(x.jsx)(b.a,{status:"success",title:"User's password has been reset"})})]})}}}]);
//# sourceMappingURL=11.0bb8d81f.chunk.js.map