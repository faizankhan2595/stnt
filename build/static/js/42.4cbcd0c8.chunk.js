(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[42],{462:function(e,t,a){"use strict";var s=a(0),n=a.n(s),r=a(477),o=a(1),c=n.a.forwardRef((function(e,t){return Object(o.jsx)(r.a,{component:e.svg,className:e.className})}));t.a=c},477:function(e,t,a){"use strict";var s=a(3),n=a(5),r=a(14),o=a(0),c=a(6),i=a.n(c),l=a(106),u=a(67),d=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],m=o.forwardRef((function(e,t){var a=e.className,c=e.component,m=e.viewBox,j=e.spin,h=e.rotate,g=e.tabIndex,b=e.onClick,p=e.children,x=Object(r.a)(e,d);Object(u.g)(Boolean(c||p),"Should have `component` prop or `children`."),Object(u.f)();var f=o.useContext(l.a).prefixCls,O=void 0===f?"anticon":f,v=i()(O,a),w=i()(Object(n.a)({},"".concat(O,"-spin"),!!j)),y=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,N=Object(s.a)(Object(s.a)({},u.e),{},{className:w,style:y,viewBox:m});m||delete N.viewBox;var k=g;return void 0===k&&b&&(k=-1),o.createElement("span",Object(s.a)(Object(s.a)({role:"img"},x),{},{ref:t,tabIndex:k,onClick:b,className:v}),c?o.createElement(c,Object(s.a)({},N),p):p?(Object(u.g)(Boolean(m)||1===o.Children.count(p)&&o.isValidElement(p)&&"use"===o.Children.only(p).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),o.createElement("svg",Object(s.a)(Object(s.a)({},N),{},{viewBox:m}),p)):null)}));m.displayName="AntdIcon",t.a=m},492:function(e,t,a){"use strict";var s=a(468),n=a.n(s),r=a(12),o=a(520).a(),c=a(34),i=a(274),l=n.a.create({baseURL:r.a,timeout:6e4}),u="/auth/login";l.interceptors.request.use((function(e){var t=localStorage.getItem(c.b);return t&&(e.headers.authorization=t),t||e.headers["public-request"]||(o.push(u),window.location.reload()),e}),(function(e){i.a.error({message:"Error"}),Promise.reject(e)})),l.interceptors.response.use((function(e){return e.data}),(function(e){var t={message:""};return 400!==e.response.status&&403!==e.response.status||(t.message="Authentication Fail",t.description="Please login again",localStorage.removeItem(c.b),o.push(u),window.location.reload()),404===e.response.status&&(t.message="Not Found"),500===e.response.status&&(t.message="Internal Server Error"),508===e.response.status&&(t.message="Time Out"),i.a.error(t),Promise.reject(e)}));var d=l,m={login:function(e){return d({url:"/posts",method:"post",headers:{"public-request":"true"},data:e})},signUp:function(e){return d({url:"/auth/signup",method:"post",headers:{"public-request":"true"},data:e})}};t.a=m},519:function(e,t,a){"use strict";var s=a(27),n=a.n(s),r=a(94),o=a(78),c=a(0),i=a(39),l=a(708),u=a(701),d=a(436),m=a(109),j=a(663),h=a(714),g=(a(461),a(462),a(54)),b=a(492),p=a(45),x=a(521),f=a(468),O=a.n(f),v=a(1),w=function(e){var t=Object(p.g)(),a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],g=s[1],f=Object(c.useState)(""),w=Object(o.a)(f,2),y=w[0],N=w[1],k=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("https://api.stntinternational.com/api/auth/login",{username:i,password:y});case 3:return a=e.sent,e.next=6,a.data;case 6:s=e.sent,localStorage.setItem("token",s.token),window.location.href="/app/dashboard";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=e.otherSignIn,C=e.showForgetPassword,P=e.hideAuthMessage,S=e.onForgetPasswordClick,B=e.showLoading,M=e.extra,E=e.loading,F=e.showMessage,T=e.message,q=e.authenticated,A=e.showAuthMessage,R=e.token,L=e.redirect,U=e.allowRedirect;Object(c.useEffect)((function(){null!==R&&U&&t.push(L),F&&setTimeout((function(){P()}),3e3)}));var z=Object(v.jsx)("div",{});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:F?1:0,marginBottom:F?20:0},children:Object(v.jsx)(l.a,{type:"error",showIcon:!0,message:T})}),Object(v.jsxs)(u.a,{layout:"vertical",name:"login-form",onFinish:function(e){B();b.a.login(e).then((function(e){q("fakeToken")})).then((function(e){A(e)}))},children:[Object(v.jsx)(u.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please enter a validate email!"}],children:Object(v.jsx)(d.a,{value:"username",onChange:function(e){return g(e.target.value)},prefix:Object(v.jsx)(j.a,{className:"text-primary"})})}),Object(v.jsx)(u.a.Item,{name:"password",label:Object(v.jsxs)("div",{className:"".concat(C?"d-flex justify-content-between w-100 align-items-center":""),children:[Object(v.jsx)("span",{children:"Password"}),C&&Object(v.jsx)("span",{onClick:function(){return S},className:"cursor-pointer font-size-sm font-weight-normal text-muted",children:"Forget Password?"})]}),rules:[{required:!0,message:"Please input your password"}],children:Object(v.jsx)(d.a.Password,{value:"password",onChange:function(e){return N(e.target.value)},prefix:Object(v.jsx)(h.a,{className:"text-primary"})})}),Object(v.jsx)(u.a.Item,{children:Object(v.jsx)(m.a,{type:"primary",htmlType:"submit",block:!0,loading:E,style:{backgroundColor:"#41C1B2",border:"none"},onClick:k,children:"Log In"})}),I?z:null,M]})]})};w.defaultProps={otherSignIn:!0,showForgetPassword:!1};var y={showAuthMessage:g.c,showLoading:g.d,hideAuthMessage:g.b,authenticated:g.a};t.a=Object(i.b)((function(e){var t=e.auth;return{loading:t.loading,message:t.message,showMessage:t.showMessage,token:t.token,redirect:t.redirect}}),y)(w)},654:function(e,t,a){},692:function(e,t,a){"use strict";a.r(t);var s=a(15),n=(a(0),a(519)),r=a(484),o=a(485),c=a(39),i=(a(654),a(1));"url(".concat("/img/others/login-page-bg.svg",")");t.default=function(e){var t=Object(c.c)((function(e){return e.theme.currentTheme}));return Object(i.jsx)("div",{className:"h-100 ".concat("light"===t?"bg-white":""),children:Object(i.jsxs)(r.a,{justify:"center",className:"align-items-stretch h-100",children:[Object(i.jsx)(o.a,{xs:0,sm:0,md:0,lg:10,children:Object(i.jsxs)("div",{className:"bg-holder",children:[Object(i.jsx)("div",{className:"vector-holder",children:Object(i.jsx)("img",{src:"/img/others/login-vector.png",alt:"vector",className:"img-fluid"})}),Object(i.jsxs)("div",{className:"welcome-note",children:["Welcome to",Object(i.jsx)("br",{}),"STNT CRM"]}),Object(i.jsx)("div",{className:"design-element-1"}),Object(i.jsx)("div",{className:"design-element-2"})]})}),Object(i.jsx)(o.a,{xs:20,sm:20,md:24,lg:14,children:Object(i.jsx)("div",{className:"container d-flex flex-column justify-content-center h-100",children:Object(i.jsx)(r.a,{justify:"center",children:Object(i.jsxs)(o.a,{xs:24,sm:24,md:20,lg:12,xl:8,children:[Object(i.jsx)("h1",{children:"Sign In"}),Object(i.jsxs)("p",{children:["Don't have an account yet? ",Object(i.jsx)("a",{href:"/auth/register-2",children:"Sign Up"})]}),Object(i.jsx)("div",{className:"mt-4",children:Object(i.jsx)(n.a,Object(s.a)({},e))})]})})})})]})})}}}]);
//# sourceMappingURL=42.4cbcd0c8.chunk.js.map