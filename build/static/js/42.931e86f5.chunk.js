(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[42],{462:function(e,t,s){"use strict";var a=s(0),n=s.n(a),r=s(477),o=s(1),c=n.a.forwardRef((function(e,t){return Object(o.jsx)(r.a,{component:e.svg,className:e.className})}));t.a=c},477:function(e,t,s){"use strict";var a=s(3),n=s(5),r=s(14),o=s(0),c=s(6),i=s.n(c),l=s(106),u=s(67),d=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],m=o.forwardRef((function(e,t){var s=e.className,c=e.component,m=e.viewBox,j=e.spin,h=e.rotate,g=e.tabIndex,b=e.onClick,p=e.children,x=Object(r.a)(e,d);Object(u.g)(Boolean(c||p),"Should have `component` prop or `children`."),Object(u.f)();var f=o.useContext(l.a).prefixCls,O=void 0===f?"anticon":f,v=i()(O,s),w=i()(Object(n.a)({},"".concat(O,"-spin"),!!j)),y=h?{msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")}:void 0,N=Object(a.a)(Object(a.a)({},u.e),{},{className:w,style:y,viewBox:m});m||delete N.viewBox;var k=g;return void 0===k&&b&&(k=-1),o.createElement("span",Object(a.a)(Object(a.a)({role:"img"},x),{},{ref:t,tabIndex:k,onClick:b,className:v}),c?o.createElement(c,Object(a.a)({},N),p):p?(Object(u.g)(Boolean(m)||1===o.Children.count(p)&&o.isValidElement(p)&&"use"===o.Children.only(p).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),o.createElement("svg",Object(a.a)(Object(a.a)({},N),{},{viewBox:m}),p)):null)}));m.displayName="AntdIcon",t.a=m},492:function(e,t,s){"use strict";var a=s(468),n=s.n(a),r=s(12),o=s(520).a(),c=s(34),i=s(274),l=n.a.create({baseURL:r.a,timeout:6e4}),u="/auth/login";l.interceptors.request.use((function(e){var t=localStorage.getItem(c.b);return t&&(e.headers.authorization=t),t||e.headers["public-request"]||(o.push(u),window.location.reload()),e}),(function(e){i.a.error({message:"Error"}),Promise.reject(e)})),l.interceptors.response.use((function(e){return e.data}),(function(e){var t={message:""};return 400!==e.response.status&&403!==e.response.status||(t.message="Authentication Fail",t.description="Please login again",localStorage.removeItem(c.b),o.push(u),window.location.reload()),404===e.response.status&&(t.message="Not Found"),500===e.response.status&&(t.message="Internal Server Error"),508===e.response.status&&(t.message="Time Out"),i.a.error(t),Promise.reject(e)}));var d=l,m={login:function(e){return d({url:"/posts",method:"post",headers:{"public-request":"true"},data:e})},signUp:function(e){return d({url:"/auth/signup",method:"post",headers:{"public-request":"true"},data:e})}};t.a=m},519:function(e,t,s){"use strict";var a=s(27),n=s.n(a),r=s(94),o=s(78),c=s(0),i=s(39),l=s(708),u=s(701),d=s(436),m=s(109),j=s(663),h=s(714),g=(s(461),s(462),s(54)),b=s(492),p=s(45),x=s(521),f=s(468),O=s.n(f),v=s(1),w=function(e){var t=Object(p.g)(),s=Object(c.useState)(""),a=Object(o.a)(s,2),i=a[0],g=a[1],f=Object(c.useState)(""),w=Object(o.a)(f,2),y=w[0],N=w[1],k=function(){var e=Object(r.a)(n.a.mark((function e(t){var s,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O.a.post("https://api.stntinternational.com/api/auth/login",{username:i,password:y});case 3:return s=e.sent,e.next=6,s.data;case 6:a=e.sent,localStorage.setItem("token",a.token),window.location.href="/app/dashboard";case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=e.otherSignIn,I=e.showForgetPassword,P=e.hideAuthMessage,B=e.onForgetPasswordClick,S=e.showLoading,M=e.extra,A=e.loading,E=e.showMessage,F=e.message,T=e.authenticated,q=e.showAuthMessage,L=e.token,R=e.redirect,z=e.allowRedirect;Object(c.useEffect)((function(){null!==L&&z&&t.push(R),E&&setTimeout((function(){P()}),3e3)}));var J=Object(v.jsx)("div",{});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:E?1:0,marginBottom:E?20:0},children:Object(v.jsx)(l.a,{type:"error",showIcon:!0,message:F})}),Object(v.jsxs)(u.a,{layout:"vertical",name:"login-form",onFinish:function(e){S();b.a.login(e).then((function(e){T("fakeToken")})).then((function(e){q(e)}))},children:[Object(v.jsx)(u.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please enter a validate email!"}],children:Object(v.jsx)(d.a,{value:"username",onChange:function(e){return g(e.target.value)},prefix:Object(v.jsx)(j.a,{className:"text-primary"})})}),Object(v.jsx)(u.a.Item,{name:"password",label:Object(v.jsxs)("div",{className:"".concat(I?"d-flex justify-content-between w-100 align-items-center":""),children:[Object(v.jsx)("span",{children:"Password"}),I&&Object(v.jsx)("span",{onClick:function(){return B},className:"cursor-pointer font-size-sm font-weight-normal text-muted",children:"Forget Password?"})]}),rules:[{required:!0,message:"Please input your password"}],children:Object(v.jsx)(d.a.Password,{value:"password",onChange:function(e){return N(e.target.value)},prefix:Object(v.jsx)(h.a,{className:"text-primary"})})}),Object(v.jsx)(u.a.Item,{children:Object(v.jsx)(m.a,{type:"primary",htmlType:"submit",block:!0,loading:A,style:{backgroundColor:"#41C1B2",border:"none"},onClick:k,children:"Log In"})}),C?J:null,M]})]})};w.defaultProps={otherSignIn:!0,showForgetPassword:!1};var y={showAuthMessage:g.c,showLoading:g.d,hideAuthMessage:g.b,authenticated:g.a};t.a=Object(i.b)((function(e){var t=e.auth;return{loading:t.loading,message:t.message,showMessage:t.showMessage,token:t.token,redirect:t.redirect}}),y)(w)},654:function(e,t,s){},692:function(e,t,s){"use strict";s.r(t);var a=s(15),n=(s(0),s(519)),r=s(484),o=s(485),c=s(39),i=(s(654),s(1));"url(".concat("/img/others/login-page-bg.svg",")");t.default=function(e){var t=Object(c.c)((function(e){return e.theme.currentTheme}));return Object(i.jsx)("div",{className:"h-100 ".concat("light"===t?"bg-white":""),children:Object(i.jsxs)(r.a,{justify:"center",className:"align-items-stretch h-100",children:[Object(i.jsx)(o.a,{xs:0,sm:0,md:0,lg:10,children:Object(i.jsxs)("div",{className:"bg-holder",children:[Object(i.jsx)("div",{className:"vector-holder",children:Object(i.jsx)("img",{src:"/img/others/login-vector.png",alt:"vector",className:"img-fluid"})}),Object(i.jsxs)("div",{className:"welcome-note",children:["Welcome to",Object(i.jsx)("br",{}),"STNT CRM"]}),Object(i.jsx)("div",{className:"design-element-1"}),Object(i.jsx)("div",{className:"design-element-2"})]})}),Object(i.jsx)(o.a,{xs:20,sm:20,md:24,lg:14,children:Object(i.jsxs)("div",{className:"container d-flex flex-column justify-content-center h-100",children:[Object(i.jsx)("div",{className:"d-flex justify-content-center mb-3",children:Object(i.jsx)("img",{src:"/img/stntlogo.svg",alt:"logo",className:"logo"})}),Object(i.jsx)(r.a,{justify:"center",children:Object(i.jsxs)(o.a,{xs:24,sm:24,md:20,lg:12,xl:8,children:[Object(i.jsx)("div",{style:{textAlign:"center"},children:Object(i.jsx)("h1",{children:"Login"})}),Object(i.jsx)("p",{style:{textAlign:"center"},children:"Please enter username & password below to get started."}),Object(i.jsx)("div",{className:"mt-4",children:Object(i.jsx)(n.a,Object(a.a)({},e))})]})})]})})]})})}}}]);
//# sourceMappingURL=42.931e86f5.chunk.js.map